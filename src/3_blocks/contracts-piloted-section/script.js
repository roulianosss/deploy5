if (document.querySelector(".contracts-piloted-section-container")) {
  // mock-data
  const data = {
    assuranceVie: {
      titresVie: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 8,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.13%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 2",
            srri: 3,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-3%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 3",
            srri: 3,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-3%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      },
      altaprofitsVie: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 2",
            srri: 7,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-4.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 3",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-9.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      },
      digitalViePrime: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      },
      espaceLuxVie: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 2",
            srri: 3,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-3%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          },
          {
            title: "Profil 1",
            srri: 6,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-5.53%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      }
    },
    capitalisation: {
      titreCapi: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      },
      altaprofitsCapitalisation: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      },
      digitalCapiPrime: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      }
    },
    planEpargneRetraite: {
      titrePER: {
        prudent: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        balanced: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ],
        dynamic: [
          {
            title: "Carte Blanche",
            srri: 5,
            ytd: "",
            nOne: "",
            perfThreeYears: "",
            perfFiveYears: "",
            perf: "",
            volatility: "",
            name: "Lazard Frères Gestion",
            percentageRate: "-7.33%",
            informations: "Performances cumulées sur 5 ans",
            iconUrl: "./assets/logos/lazard_freres_gestion--fit.svg"
          }
        ]
      }
    }
  };

  const btnsFirstChoice = document.querySelectorAll(
    ".btns-container__first-choice-container__btn"
  );
  const btnsSecondChoiceContainer = document.querySelector(
    ".btns-container__second-choice-container"
  );
  const btnsSecondChoice = document.querySelectorAll(
    ".btns-container__second-choice-container__btns-type-second-choice-container__btn"
  );
  const btnsThirdChoice = document.querySelectorAll(
    ".filters-container__btns-container__btn"
  );
  const btnsTypeSecondChoiceContainer = document.querySelectorAll(
    ".btns-container__second-choice-container__btns-type-second-choice-container"
  );
  const resultsContainer = document.querySelector(".results-container");
  const btnsParameters = document.querySelectorAll(".toggle-button");
  const allCards = document.querySelectorAll(".card-container, .grid-row-body");
  const cardsContainer = document.querySelector(".cards-display-container");
  const arrayContainer = document.querySelector(".array-display-container");
  const allArrayRows = document.querySelectorAll(".grid-row-body");

  const distributionFundsArray = document.querySelector(
    ".distribution-funds-array-section__btn"
  );

  distributionFundsArray.addEventListener("click", handleClick);

  function handleClick() {
    console.dir(this);
    if (this.nextElementSibling.style.maxHeight) {
      console.dir(this.nextElementSibling);
      this.nextElementSibling.style.maxHeight = "";
      this.lastElementChild.style.transform = "rotate(0deg)";
    } else {
      const contentHeight = this.nextElementSibling.scrollHeight;
      this.nextElementSibling.style.maxHeight = `${contentHeight}px`;
      this.lastElementChild.style.transform = "rotate(180deg)";
    }
  }

  //objet qui enregistre les choix de l'utilisateur
  const userChoices = {
    firstChoice: "",
    secondChoice: "",
    thirdChoice: "prudent"
  };

  //Mise en place des events listener
  btnsFirstChoice.forEach((btn) =>
    btn.addEventListener("click", () => setActiveBtnFirstChoice(btn))
  );
  btnsSecondChoice.forEach((btn) =>
    btn.addEventListener("click", () => setActiveBtnSecondChoice(btn))
  );
  btnsThirdChoice.forEach((btn) =>
    btn.addEventListener("click", () => setActiveBtnThridChoice(btn))
  );
  btnsParameters.forEach((btn) =>
    btn.addEventListener("click", () => setActiveBtnParameter(btn))
  );
  allCards.forEach((card) =>
    card.addEventListener("click", () => setActiveCard(card))
  );
  // allArrayRows.forEach((row) => row.addEventListener("click", () => setActiveRow(row)))

  //fonction au clic du premier choix
  const setActiveBtnFirstChoice = (btn) => {
    userChoices.secondChoice = "";
    btnsSecondChoice.forEach((btn) =>
      btn.classList.remove(
        "btns-container__second-choice-container__btns-type-second-choice-container__btn--active"
      )
    );
    btnsFirstChoice.forEach((btn) =>
      btn.classList.remove(
        "btns-container__first-choice-container__btn--active"
      )
    );
    btnsTypeSecondChoiceContainer.forEach((btn) => btn.classList.add("hidden"));
    btn.classList.add("btns-container__first-choice-container__btn--active");
    userChoices.firstChoice = btn.getAttribute("data-attr");
    btnsSecondChoiceContainer.classList.remove("hidden");
    document
      .querySelector(`.${btn.getAttribute("data-attr")}`)
      .classList.remove("hidden");
    displayCards();
  };

  //fonction au clic du deuxieme choix
  const setActiveBtnSecondChoice = (btn) => {
    btnsSecondChoice.forEach((btn) =>
      btn.classList.remove(
        "btns-container__second-choice-container__btns-type-second-choice-container__btn--active"
      )
    );
    userChoices.secondChoice = btn.getAttribute("data-attr");
    btn.classList.add(
      "btns-container__second-choice-container__btns-type-second-choice-container__btn--active"
    );
    displayCards();
  };

  //fonction au clic du troisième choix
  const setActiveBtnThridChoice = (btn) => {
    userChoices.thirdChoice = btn.getAttribute("data-attr");
    btnsThirdChoice.forEach((btn) =>
      btn.classList.remove("filters-container__btns-container__btn--active")
    );
    btn.classList.add("filters-container__btns-container__btn--active");
    displayCards();
  };

  //fonction qui affiche les cards
  const displayCards = () => {
    if (userChoices.firstChoice !== "" && userChoices.secondChoice !== "") {
      resultsContainer.classList.remove("hidden");
    } else {
      resultsContainer.classList.add("hidden");
    }
    arrayContainer.innerHTML = ``;
    cardsContainer.innerHTML = ``;
    const dataUserSelected =
      data[userChoices.firstChoice][userChoices.secondChoice][
        userChoices.thirdChoice
      ];
    dataUserSelected.map(
      (card) =>
        (cardsContainer.innerHTML += `
            <div class="card-container">
              <div class="card-container__card-header">
                <p class="card-container__card-header__title">${card.title}</p>
                <div class="card-container__card-header__numbers-rating-container">
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 1
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">1</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 2
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">2</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 3
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">3</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 4
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">4</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 5
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">5</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 6
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">6</p>
                  </div>
                  <div class="card-container__card-header__numbers-rating-container__number-rating-container ${
                    card.srri === 7
                      ? "card-container__card-header__numbers-rating-container__number-rating-container--active"
                      : ""
                  }">
                    <p class="card-container__card-header__numbers-rating-container__number-rating-container__number-rating">7</p>
                  </div>
                </div>
              </div>
              <div class="card-container__card-informations">
                <p class="card-container__card-informations__percentage-rate">${
                  card.percentageRate
                }</p>
                <p class="card-container__card-informations__card-information-text">
                  ${card.informations}
                </p>
                <svg class="card-container__card-informations__logo">
                    <use href="${card.iconUrl}#logo"></use>
                </svg>
              </div>
            </div>
    `)
    );
    arrayContainer.innerHTML += `
                <div class="grid-container">
                  <div class="grid-container__grid-header">
                    <div>
                      <p></p>
                    </div>
                    <div>
                      <p>SRRI</p>
                    </div>
                    <div>
                      <p>YTD</p>
                    </div>
                    <div>
                      <p>N-1</p>
                    </div>
                    <div>
                      <p>Perf. 3ans</p>
                      <p>cumulé</p>
                    </div>
                    <div>
                      <p>Perf. 5ans</p>
                      <p>cumulé</p>
                    </div>
                    <div>
                      <p>Perf.</p>
                      <p>depuis création</p>
                    </div>
                    <div>
                      <p>Volatilité</p>
                      <p>depuis création</p>
                    </div>
                  </div>
                </div>
    `;

    dataUserSelected.map(
      (row) =>
        (arrayContainer.innerHTML += `
                <div class="grid-row-body">
                  <div class="grid-row-body__grid-profil-item-container">
                    <h3>${row.title}</h3>
                    <p>Lazard Frère Gestion</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-srri-item-container">
                    <p>${row.srri}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-ytd-item-container">
                    <p>${row.ytd}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-n1-item-container">
                    <p>${row.nOne}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-perf3year-item-container">
                    <p>${row.perfThreeYears}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-perf5year-item-container">
                    <p>${row.perfFiveYears}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-perf-item-container">
                    <p>${row.perf}</p>
                  </div>
                  <div class="grid-row-body__grid-profil-item-container__grid-volatility-item-container">
                    <p>${row.volatility}</p>
                  </div>
                </div>
    `)
    );

    arrayContainer.innerHTML += `
        <div class="grid-container-mobile">
          <div class="grid-container-mobile__grid-header">
            <div class="grid-container-mobile__grid-header__whiteLabel">
              <p></p>
            </div>
            <div class="grid-container-mobile__grid-header__items">
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>SRRI</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>YTD</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>N-1</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>Perf. 3ans</p>
                        <p>cumulé</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>Perf. 5ans</p>
                        <p>cumulé</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>Perf.</p>
                        <p>depuis création</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
                <div class='grid-container-mobile__grid-header__items__label-container'>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="black"/>
</svg></div>
                    <div class='grid-container-mobile__grid-header__items__label-container__label'>
                        <p>Volatilité</p>
                        <p>depuis création</p>
                    </div>
                    <div><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="black"/>
</svg></div>
                </div>
            </div>
          </div>
        </div>
`;

    dataUserSelected.map(
      (row) =>
        (arrayContainer.innerHTML += `
              <div class="grid-row-body-mobile">
                <div class="grid-row-body-mobile__grid-profil-label-container">
                  <h3>${row.title}</h3>
                  <p>${row.name}</p>
                </div>
                <div class='grid-row-body-mobile__grid-profil-items-container'>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container grid-row-body-mobile__grid-profil-items-container__item-container--srri">
                        <p>${row.srri}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.ytd}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.nOne}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.perfThreeYears}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.perfFiveYears}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.perf}</p>
                    </div>
                    <div class="grid-row-body-mobile__grid-profil-items-container__item-container">
                        <p>${row.volatility}</p>
                    </div>
                </div>
                
              </div>
  `)
    );

    document
      .querySelectorAll(
        ".grid-container-mobile__grid-header__items div div:first-child"
      )
      .forEach((item) =>
        item.addEventListener("click", () => handleChangeMobileLabel("prev"))
      );
    document
      .querySelectorAll(
        ".grid-container-mobile__grid-header__items div div:last-child"
      )
      .forEach((item) =>
        item.addEventListener("click", () => handleChangeMobileLabel("next"))
      );
    document
      .querySelectorAll(".card-container, .grid-row-body")
      .forEach((card) =>
        card.addEventListener("click", () => setActiveCard(card))
      );
  };

  let percentageLevel = 0;
  const handleChangeMobileLabel = (percentage) => {
    if (percentage === "prev" && percentageLevel !== 0) {
      percentageLevel += 100;
    } else if (percentage === "prev" && percentageLevel === 0) {
      percentageLevel = -600
      console.log(percentageLevel);

    }
    if (percentage === "next" && percentageLevel > -600) {
      percentageLevel -= 100;
    } else if (percentage === "next" && percentageLevel <= -600)  {
      percentageLevel = 0
    }
    console.log(`translate(${percentageLevel}%)`);
    const allLabel = document.querySelectorAll(
      ".grid-container-mobile__grid-header__items__label-container"
    );
    allLabel.forEach(
      (label) => (label.style.transform = `translate(${percentageLevel}%)`)
    );
    const allRows = document.querySelectorAll(
      ".grid-row-body-mobile__grid-profil-items-container__item-container"
    );
    allRows.forEach(
      (row) => (row.style.transform = `translate(${percentageLevel}%)`)
    );
  };

  //fonction pour passer de l'affichage cards au tableau
  const setActiveBtnParameter = (btn) => {
    btnsParameters.forEach((btn) => {
      btn.classList.toggle("toggle-button--active");
    });
    displayResult();
  };

  //fonction pour afficher la card cliqué
  const setActiveCard = (card) => {
    displayResult();
    document
      .querySelectorAll(".card-container, .grid-row-body")
      .forEach((card) => card.classList.remove("card-container--active"));
    card.classList.add("card-container--active");
  };

  //affichage des resultat des choix utilisateur
  const displayResult = () => {
    btnsParameters.forEach((btn) => {
      if (
        btn.classList.contains("btn-parameter1") &&
        btn.classList.contains("toggle-button--active")
      ) {
        cardsContainer.classList.remove("hidden");
      } else {
        if (
          btn.classList.contains("btn-parameter1") &&
          !btn.classList.contains("toggle-button--active")
        ) {
          cardsContainer.classList.add("hidden");
        }
      }
      if (
        btn.classList.contains("btn-parameter2") &&
        btn.classList.contains("toggle-button--active")
      ) {
        arrayContainer.classList.remove("hidden");
      } else {
        if (
          btn.classList.contains("btn-parameter2") &&
          !btn.classList.contains("toggle-button--active")
        ) {
          arrayContainer.classList.add("hidden");
        }
      }
    });
  };
}
